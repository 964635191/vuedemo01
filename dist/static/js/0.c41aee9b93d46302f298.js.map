{"version":3,"sources":["webpack:///./src/components/event-bus.js","webpack:///src/components/cartcontrol/cartcontrol.vue","webpack:///./src/components/cartcontrol/cartcontrol.vue?829f","webpack:///./src/components/cartcontrol/cartcontrol.vue","webpack:///src/components/shopcart/shopcart.vue","webpack:///./src/components/shopcart/shopcart.vue?843c","webpack:///./src/components/shopcart/shopcart.vue","webpack:///src/components/food/food.vue","webpack:///./src/components/food/food.vue?0f3a","webpack:///./src/components/food/food.vue","webpack:///src/components/goods/goods.vue","webpack:///./src/components/goods/goods.vue?9b40","webpack:///./src/components/goods/goods.vue"],"names":["eventBus","Vue","cartcontrol","name","props","food","type","Object","created","methods","addCart","event","_constructed","this","count","vue_esm","set","$nextTick","$emit","target","decreaseCart","cartcontrol_cartcontrol","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","directives","rawName","value","expression","on","click","_v","_s","staticRenderFns","components_cartcontrol_cartcontrol","__webpack_require__","normalizeComponent","ssrContext","shopcart","selectFoods","Array","default","deliveryPrice","Number","minPrice","data","balls","show","dropBalls","fold","_this","$on","drop","computed","totalPrice","total","forEach","price","totalCount","payDesc","payClass","listShow","_this2","listContentScroll","refresh","bscroll_default","a","$refs","listContent","ele","i","length","ball","el","push","beforeEnter","rect","getBoundingClientRect","x","left","y","window","innerHeight","top","style","display","webkitTransform","transform","inner","getElementsByClassName","enter","offsetHeight","afterEnter","shift","toggleList","hideList","empty","pay","alert","components","shopcart_shopcart","class","highlight","$event","stopPropagation","preventDefault","before-enter","after-enter","_l","index","key","ref","components_shopcart_shopcart","shopcart_normalizeComponent","showFlag","selectType","onlyContent","desc","all","positive","negative","foodScroll","hide","addFirst","selecttype","content","_this3","needShow","text","filters","formatDate","time","date","Date","js_date","ratingselect","split","food_food","src","image","alt","sellCount","rating","oldPrice","info","select-type","only-content","ratings","rateType","username","width","height","avatar","_f","rateTime","icon-thumb_up","icon-thumb_down","components_food_food","food_normalizeComponent","goods","seller","listHeight","scrollY","selectedFood","currentIndex","height1","height2","foods","good","classMap","data_default","_initScroll","_calculateHeight","mounted","menuScroll","menuWrapper","foodsScroll","foodWrapper","probeType","pos","Math","abs","round","foodList","foodsList","clientHeight","console","log","selectMenu","scrollToElement","selectFood","goods_goods","item","current","refInFor","icon","description","select-foods","delivery-price","min-price","goods_Component","goods_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/0.c41aee9b93d46302f298.js","sourcesContent":["import Vue from 'vue'\r\n\r\nexport var eventBus = new Vue()\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/event-bus.js","<template>\n  <div class=\"cartcontrol\">\n    <transition  name=\"slide-fade\">\n      <div class=\"car-decrease\" v-show=\"food.count>0\" @click=\"decreaseCart\">\n        <span class=\" icon-remove_circle_outline\"></span>\n      </div>\n    </transition>\n    <div class=\"car-count\"  v-show=\"food.count>0\">{{food.count}}</div>\n    <div class=\"car-add icon-add_circle\" @click=\"addCart\"></div>\n  </div>\n</template>\n\n<script>\n  import Vue from 'vue';\n  import { eventBus } from '../../components/event-bus'\n    export default {\n        name: \"cartcontrol\",\n      props:{\n          food:{\n            type:Object\n          }\n      },\n      created(){\n      },\n      methods:{\n        addCart(event){\n          if (!event._constructed){\n            return\n          }\n          if (!this.food.count) {\n            Vue.set(this.food, 'count', 1)\n          } else {\n            this.food.count += 1\n          }\n          // 优化体验，异步传递当前点击文档节点\n          this.$nextTick(() => {\n            eventBus.$emit('addcart', event.target)\n          })\n        },\n        decreaseCart (event) {\n          if (!event._constructed){\n            return\n          }\n          if (this.food.count) {\n            this.food.count --\n          }\n        }\n      }\n    }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .cartcontrol\n    font-size 0\n    .car-decrease,.car-add\n      display: inline-block\n      line-height: 24px\n      width: 24px\n      height 24px\n      font-size: 24px\n      padding 6px\n      color rgb(0,160,220)\n    .car-count\n      display: inline-block\n      vertical-align top\n      width 12px\n      padding-top 6px\n      line-height 24px\n      text-align center\n      font-size 10px\n      color rgb(147,153,159)\n\n  .cartcontroll\n  &.slide-fade-enter-active\n    transition: all .3s ease\n  &.slide-fade-leave-active\n    transition: all .3s cubic-bezier(1.0, 0.5, 0.8, 1.0)\n  &.slide-fade-enter, &.slide-fade-leave-to\n    /* .slide-fade-leave-active for below version 2.1.8 */\n    transform: translateX(24px) rotate(360deg)\n    opacity: 0\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/cartcontrol/cartcontrol.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cartcontrol\"},[_c('transition',{attrs:{\"name\":\"slide-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.count>0),expression:\"food.count>0\"}],staticClass:\"car-decrease\",on:{\"click\":_vm.decreaseCart}},[_c('span',{staticClass:\" icon-remove_circle_outline\"})])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.count>0),expression:\"food.count>0\"}],staticClass:\"car-count\"},[_vm._v(_vm._s(_vm.food.count))]),_vm._v(\" \"),_c('div',{staticClass:\"car-add icon-add_circle\",on:{\"click\":_vm.addCart}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4ccccc0a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/cartcontrol/cartcontrol.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4ccccc0a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cartcontrol.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cartcontrol.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cartcontrol.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ccccc0a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cartcontrol.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/cartcontrol/cartcontrol.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"shopcart\">\n    <div class=\"content\" @click=\"toggleList\">\n      <div class=\"content-left\">\n        <div class=\"logo-wrapper\">\n          <div class=\"logo\" :class=\"{'highlight':totalCount>0}\">\n            <span class=\"icon-shopping_cart\" :class=\"{'highlight':totalCount>0}\"></span>\n          </div>\n          <div class=\"num\" v-show=\"totalCount>0\">{{totalCount}}</div>\n        </div>\n        <div class=\"price\" :class=\"{'highlight':totalPrice>0}\">￥{{totalPrice}}元</div>\n        <div class=\"desc\">另需配送費{{deliveryPrice}}元</div>\n      </div>\n      <div class=\"content-right\">\n        <div class=\"pay\" :class=\"payClass\" @click.stop.prevent=\"pay\">\n          {{payDesc}}\n        </div>\n      </div>\n\n    </div>\n    <div class=\"ball-container\" >\n      <transition-group  name=\"drop\" @before-enter=\"beforeEnter\" @enter=\"enter\" @after-enter=\"afterEnter\"   >\n        <div class=\"ball\"  v-for=\"(ball,index) in balls\" :key=\"'myname'+index\" v-show=\"ball.show\">\n          <span class=\"inner inner-hook\"></span>\n        </div>\n      </transition-group>\n    </div>\n    <transition name=\"fold\">\n      <div class=\"shopcart-list\" v-show=\"listShow\">\n        <div class=\"list-header\">\n          <h1 class=\"title\">購物車</h1>\n          <span class=\"empty\" @click=\"empty\">清空</span>\n        </div>\n        <div class=\"list-content\" ref=\"listContent\">\n          <ul>\n            <li class=\"food\" v-for=\"food in selectFoods\">\n              <span class=\"name\">{{food.name}}</span>\n              <div class=\"price\">\n                <span>￥{{food.price*food.count}}</span>\n              </div>\n              <div class=\"cartcontrol-wrapper\">\n                <cartcontrol :food=\"food\"></cartcontrol>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </transition>\n    <transition name=\"mask-fade\">\n      <div class=\"list-mask\" @click=\"hideList\" v-show=\"listShow\"></div>\n    </transition>\n  </div>\n</template>\n\n<script>\n  import { eventBus } from '../../components/event-bus';\n  import cartcontrol from  '@/components/cartcontrol/cartcontrol';\n  import BScroll from 'better-scroll'\n  export default {\n    name: \"shopcart\",\n    props:{\n      selectFoods:{\n        type:Array,\n        default(){\n          return [];\n        }\n      },\n      deliveryPrice:{\n        type:Number,\n        default:0\n      },\n      minPrice:{\n        type:Number,\n        default:0\n      }\n    },\n    data(){\n      return{\n        balls:[\n          {show:false },\n          {show:false },\n          {show:false},\n          {show:false},\n          {show:false}\n        ],\n        dropBalls: [],\n        fold: true\n      }\n    },\n    created () {\n      // 优化体验，异步监听小球平抛动画\n      this.$nextTick(() => {\n        eventBus.$on('addcart', this.drop)\n      })\n    },\n    computed:{\n      totalPrice() {\n        let total = 0;\n        this.selectFoods.forEach((food) => {\n          total += food.price * food.count;\n        });\n        return total;\n      },\n      totalCount(){\n        let count = 0;\n        this.selectFoods.forEach((food) => {\n          count += food.count;\n        });\n        return count\n      },\n      payDesc(){\n        if (this.totalPrice===0){\n          return `￥${this.minPrice}元起送`;\n        }else if(this.totalPrice<this.minPrice){\n            let diff=this.minPrice-this.totalPrice\n          return `还差￥${diff}元起送`;\n        }else{\n          return '去結算';\n        }\n      },\n      payClass(){\n        if (this.totalPrice<this.minPrice) {\n          return 'not-enough';\n        }else {\n          return 'enough';\n        }\n      },\n      listShow () {\n        if (!this.totalCount) {\n          this.fold = true\n          return false\n        }\n        let show = !this.fold\n        if (show) {\n          // 手动刷新better-scroll重新计算页面高度\n          if (!this.listContentScroll) {\n            this.listContentScroll = new BScroll(this.$refs.listContent, {\n              click: true\n            })\n          } else {\n            this.$nextTick(() => {\n              this.listContentScroll.refresh()\n            })\n          }\n        }\n        return show\n      }\n\n    },\n    methods: {\n\n      drop (ele) {\n        for (let i = 0; i < this.balls.length; i++) {\n          let ball = this.balls[i]\n          if (!ball.show) {\n            ball.show = true // 表示可以有下落动画\n            ball.el = ele\n            this.dropBalls.push(ball)\n            return // 跳出循环\n          }\n        }\n      },\n      beforeEnter: function (ele) {\n        let count = this.balls.length\n        while (count--) {\n          let ball = this.balls[count]\n          if (ball.show) {\n            let rect = ball.el.getBoundingClientRect()\n            let x = rect.left - 32\n            let y = -(window.innerHeight - rect.top - 22)\n            ele.style.display = ''\n            ele.style.webkitTransform = `translate3d(0, ${y}px, 0)`\n            ele.style.transform = `translate3d(0, ${y}px, 0)`\n            let inner = ele.getElementsByClassName('inner-hook')[0]\n            inner.style.webkitTransform = `translate3d(${x}px, 0, 0)`\n            inner.style.transform = `translate3d(${x}px, 0, 0)`\n          }\n        }\n      },\n      enter: function (ele) {\n        /* eslint-disable */\n        ele.offsetHeight\n        this.$nextTick(() => {\n          ele.style.webkitTransform = 'translate3d(0, 0, 0)'\n          ele.style.transform = 'translate3d(0, 0, 0)'\n          let inner = ele.getElementsByClassName('inner-hook')[0]\n          inner.style.webkitTransform = 'translate3d(0, 0, 0)'\n          inner.style.transform = 'translate3d(0, 0, 0)'\n        })\n      },\n      afterEnter: function (ele) {\n        let ball = this.dropBalls.shift()\n        if (ball) {\n          ball.show = false\n          ele.style.display = 'none'\n        }\n      },\n      toggleList(){\n         if (!this.totalCount){\n           return;\n         }\n         this.fold=!this.fold;\n      },\n      hideList () {\n        this.fold = true\n      },\n      empty () {\n        this.selectFoods.forEach((food) => {\n          food.count = 0\n        })\n      },\n      pay () {\n        if (this.totalPrice < this.minPrice) {\n          return\n        }\n        window.alert(`需要支付${this.totalPrice}元`)\n      }\n    },\n    components:{\n      cartcontrol\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @import '../../common/stylus/mixin'\n  .shopcart\n    position: fixed\n    left: 0\n    right: 0\n    bottom: 0\n    z-index: 50\n    width: 100%\n    height: 48px\n    background: #000\n\n    .content\n      background: #141d27\n      display: flex\n      color: rgba(255,255,255,0.4)\n      .content-left\n        flex: 1\n        .logo-wrapper\n          display: inline-block\n          position: relative\n          top: -10px\n          margin: 0 12px\n          padding: 6px\n          width: 56px\n          height: 56px\n          box-sizing: border-box\n          vertical-align: top\n          border-radius: 50%\n          background: #141d27\n          .logo\n            width: 100%\n            height: 100%\n            vertical-align: top\n            border-radius: 50%\n            background: #2b343c\n            text-align: center\n            &.highlight\n              background: rgb(0,160,220)\n            .icon-shopping_cart\n              line-height: 44px\n              font-size 24px\n              color: #80858\n              &.highlight\n               color: #fff\n          .num\n            position: absolute\n            top:0\n            right:0\n            width: 24px\n            height: 16px\n            line-height: 16px\n            text-align: center\n            border-radius: 16px\n            font-size: 9px\n            font-weight: 700\n            color: #fff\n            background: rgb(240,20,20)\n            box-shadow: 0px 4px 8px 0 rgba(0,0,0,0.4)\n        .price\n          display: inline-block\n          vertical-align: top\n          line-height: 24px\n          margin-top: 12px\n          padding-right: 12px\n          box-sizing: border-box\n          border-right: 1px solid rgba(255,255,255,0.1)\n          font-size: 16px\n          font-weight: 700\n          &.highlight\n            color: #fff\n        .desc\n          display: inline-block\n          vertical-align: top\n          line-height: 24px\n          margin: 12px 0 0 12px\n          color: rgba(255,255,255,0.4)\n          font-size: 10px\n      .content-right\n        flex: 0 0 105px\n        width: 105px\n        .pay\n          height: 48px\n          line-height: 48px\n          text-align: center\n          font-size: 12px\n          font-weight: 700\n          &.not-enough\n            background #2b333b\n          &.enough\n            background #00b43c\n            color #fff\n    .ball-container\n      .ball\n        position: fixed\n        left: 32px\n        bottom: 22px\n        z-index: 200\n        &.drop-enter, &.drop-enter-active\n          transition all 0.4s cubic-bezier(0.49,-0.29,0.75,0.41)\n        .inner\n          display: inline-block\n          width: 16px\n          height: 16px\n          border-radius: 50%\n          background: rgb(0, 160, 220)\n          transition: all .4s linear\n    .shopcart-list\n      position absolute\n      left 0\n      top 0\n      width: 100%\n      z-index -1\n      transform: translate3d(0, -100%, 0)\n      &.fold-enter-active, &.fold-leave-active\n        transition: all 0.5s\n      &.fold-enter, &.fold-leave-to\n        transform: translate3d(0, 0, 0)\n      .list-header\n        height: 40px\n        line-height: 40px\n        padding: 0 18px\n        background: #f3f5f7\n        border-bottom: 1px solid rgba(7,17,27,.1)\n        .title\n          font-size: 14px\n          float: left\n          color: rgb(7,17,27)\n        .empty\n          float: right\n          font-size: 12px\n          color: rgb(0,160,220)\n      .list-content\n        padding: 0 18px\n        max-height: 217px\n        background: #fff\n        overflow: hidden\n        .food\n         position: relative\n         padding: 12px 0\n         box-sizing: border-box\n         border-1px(rgba(7,17,27,.1))\n         &:last-child:after\n          border-top: 0\n        .name\n         line-height: 24px\n         font-size: 14px\n         color: rgb(7,17,27)\n        .price\n         position: absolute\n         right: 90px\n         bottom: 12px\n         line-height: 24px\n         font-size: 14px\n         font-weight: 700\n         color: rgb(240,20,20)\n        .cartcontrol-wrapper\n         position: absolute\n         right: 0\n         bottom: 6px\n\n\n    .list-mask\n      position: fixed\n      top: 0\n      left: 0\n      right: 0\n      margin: 0 auto\n      width: 100%\n      height: 100%\n      background: rgba(7,17,27,.6)\n      backdrop-filter: blur(10px)\n      z-index: -2;\n      opacity: 1\n      &.mask-fade-enter-active, &.mask-fade-leave-active\n        transition: all 0.3s\n      &.mask-fade-enter, &.mask-fade-leave-to\n        opacity: 0\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/shopcart/shopcart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shopcart\"},[_c('div',{staticClass:\"content\",on:{\"click\":_vm.toggleList}},[_c('div',{staticClass:\"content-left\"},[_c('div',{staticClass:\"logo-wrapper\"},[_c('div',{staticClass:\"logo\",class:{'highlight':_vm.totalCount>0}},[_c('span',{staticClass:\"icon-shopping_cart\",class:{'highlight':_vm.totalCount>0}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalCount>0),expression:\"totalCount>0\"}],staticClass:\"num\"},[_vm._v(_vm._s(_vm.totalCount))])]),_vm._v(\" \"),_c('div',{staticClass:\"price\",class:{'highlight':_vm.totalPrice>0}},[_vm._v(\"￥\"+_vm._s(_vm.totalPrice)+\"元\")]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"另需配送費\"+_vm._s(_vm.deliveryPrice)+\"元\")])]),_vm._v(\" \"),_c('div',{staticClass:\"content-right\"},[_c('div',{staticClass:\"pay\",class:_vm.payClass,on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.pay($event)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.payDesc)+\"\\n      \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"ball-container\"},[_c('transition-group',{attrs:{\"name\":\"drop\"},on:{\"before-enter\":_vm.beforeEnter,\"enter\":_vm.enter,\"after-enter\":_vm.afterEnter}},_vm._l((_vm.balls),function(ball,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(ball.show),expression:\"ball.show\"}],key:'myname'+index,staticClass:\"ball\"},[_c('span',{staticClass:\"inner inner-hook\"})])}),0)],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fold\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listShow),expression:\"listShow\"}],staticClass:\"shopcart-list\"},[_c('div',{staticClass:\"list-header\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"購物車\")]),_vm._v(\" \"),_c('span',{staticClass:\"empty\",on:{\"click\":_vm.empty}},[_vm._v(\"清空\")])]),_vm._v(\" \"),_c('div',{ref:\"listContent\",staticClass:\"list-content\"},[_c('ul',_vm._l((_vm.selectFoods),function(food){return _c('li',{staticClass:\"food\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(food.name))]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_c('span',[_vm._v(\"￥\"+_vm._s(food.price*food.count))])]),_vm._v(\" \"),_c('div',{staticClass:\"cartcontrol-wrapper\"},[_c('cartcontrol',{attrs:{\"food\":food}})],1)])}),0)])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"mask-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listShow),expression:\"listShow\"}],staticClass:\"list-mask\",on:{\"click\":_vm.hideList}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15282748\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/shopcart/shopcart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-15282748\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shopcart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopcart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopcart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-15282748\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shopcart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shopcart/shopcart.vue\n// module id = null\n// module chunks = ","<template>\n    <transition name=\"move\">\n      <div class=\"food\" v-show=\"showFlag\" ref=\"food\">\n        <div class=\"food-content\">\n          <div class=\"image-header\">\n            <img :src=\"food.image\" alt=\"\">\n            <div class=\"back\" @click=\"hide\">\n              <i class=\"icon-arrow_lift\"></i>\n            </div>\n          </div>\n          <div class=\"content\">\n            <h1 class=\"title\">{{food.name}}</h1>\n            <div class=\"detail\">\n              <span class=\"sell-count\">月售{{food.sellCount}}份</span>\n              <span class=\"rating\">好評率{{food.rating}}$</span>\n            </div>\n            <div class=\"price\">\n              <span class=\"now\">￥{{food.price}}</span>\n              <span v-show=\"food.oldPrice\" class=\"old\">￥{{food.oldPrice}}</span>\n            </div>\n            <div class=\"cartcontrol-wrapper\">\n              <cartcontrol :food=\"food\"></cartcontrol>\n            </div>\n            <transition name=\"fade\">\n              <div @click.stop.prevent=\"addFirst\" class=\"buy\" v-show=\"!food.count || food.count === 0\">加入購物車</div>\n            </transition>\n          </div>\n          <split v-show=\"food.info\"></split>\n          <div class=\"info\" v-show=\"food.info\">\n            <div class=\"title\">商品信息</div>\n            <div class=\"text\">{{food.info}}</div>\n          </div>\n          <split></split>\n          <div class=\"rating\">\n            <h1 class=\"title\">商品评价</h1>\n            <ratingselect :select-type=\"selectType\" :only-content=\"onlyContent\" :desc=\"desc\" :ratings=\"food.ratings\" @selecttype=\"selecttype\" @content=\"content\"></ratingselect>\n            <div class=\"rating-wrapper\">\n              <ul v-show=\"food.ratings && food.ratings.length\">\n                <li v-show=\"needShow(rating.rateType,rating.text)\" v-for=\"rating in food.ratings\" class=\"rating-item border-1px\">\n                  <div class=\"user\">\n                    <span class=\"name\">{{rating.username}}</span>\n                    <img class=\"avatar\" width=\"12\" height=\"12\" :src=\"rating.avatar\" alt=\"\">\n                  </div>\n                  <div class=\"time\">{{rating.rateTime | formatDate}}</div>\n                  <p class=\"text\">\n                    <span :class=\"{'icon-thumb_up':rating.rateType === 0,'icon-thumb_down':rating.rateType === 1}\"></span>{{rating.text}}\n                  </p>\n                </li>\n\n              </ul>\n              <div class=\"no-rating\" v-show=\"!food.ratings || !food.ratings.length\">暂无评价</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </transition>\n</template>\n\n<script>\n  import Vue from 'vue';\n  import BScroll from 'better-scroll';\n  import {formatDate} from '../../common/js/date'\n  import cartcontrol from '../../components/cartcontrol/cartcontrol.vue';\n  import { eventBus } from '../../components/event-bus';\n  import  ratingselect from '../../components/ratingselect/ratingselect'\n  import split from '../../components/split/split';\n\n  const ALL = 2;\n    export default {\n        name: \"food\",\n      props:{\n          food:{\n            type:Object\n          }\n      },\n      data(){\n          return{\n            showFlag: false,\n            selectType:ALL,\n            onlyContent:true,\n            desc:{\n              all:'全部',\n              positive: '推荐',\n              negative: '吐槽'\n            }\n        }\n      },\n      methods:{\n        show () {\n          this.showFlag = true;\n          this.$nextTick(() => {\n            if (!this.foodScroll) {\n              this.foodScroll = new BScroll(this.$refs.food, {\n                click: true\n              })\n            } else {\n              this.foodScroll.refresh()\n            }\n          })\n        },\n        hide(){\n          this.showFlag = false;\n        },\n        addFirst(event){\n          if (!event._constructed){\n            return;\n          }\n          this.$nextTick(() => {\n            eventBus.$emit('addcart', event.target)\n          })\n          Vue.set(this.food,'count',1)\n        },\n        selecttype (type) {\n          this.selectType = type\n          // 手动刷新better-scroll重新计算页面高度\n          this.$nextTick(() => {\n            this.foodScroll.refresh()\n          })\n        },\n        content () {\n          this.onlyContent = !this.onlyContent\n          // 手动刷新better-scroll重新计算页面高度\n          this.$nextTick(() => {\n            this.foodScroll.refresh()\n          })\n        },\n        needShow(type,text){\n          if (this.onlyContent && !text){\n            return false;\n          }\n          if (this.selectType === ALL){\n            return true;\n          }else {\n            return type === this.selectType;\n          }\n        }\n      },\n      filters: {\n        formatDate (time) {\n          let date = new Date(time)\n          return formatDate(date, 'yyyy-MM-dd hh:mm')\n        }\n      },\n      components:{\n        cartcontrol,\n        ratingselect,\n        split,\n\n      }\n    }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @import \"../../common/stylus/mixin.styl\"\n  .food\n    position fixed\n    top:0\n    left 0\n    bottom 48px\n    z-index 30\n    width 100%\n    background #fff\n    &.move-enter-active\n      animation: bounce-in .3s\n    &.move-leave-active\n      animation: bounce-in .3s reverse\n    @keyframes bounce-in\n      0%\n        transform: scale(0)\n      100%\n        transform: scale(1)\n    .image-header\n      position relative\n      width 100%\n      height 0\n      padding-top 100%\n      img\n        position absolute\n        top:0\n        left 0\n        width 100%\n        height 100%\n      .back\n        position absolute\n        top:10px\n        left 0\n        .icon-arrow_lift\n          display inline-block\n          padding 10px\n          font-size 20px\n          color #fff\n    .content\n      position relative\n      padding 18px\n      .title\n        line-height 14px\n        margin-bottom 8px\n        font-size 14px\n        font-weight 700\n        color rgb(7,17,27)\n      .detail\n        margin-bottom: 18px\n        line-height: 10px\n        height: 10px\n        font-size: 0\n        .sell-count,.rating\n          font-size: 10px\n          color: rgb(147,153,159)\n        .sell-count\n          margin-right: 12px\n      .price\n        font-weight: 700\n        line-height: 24px\n        .now\n          margin-right: 8px\n          font-size: 14px\n          color: rgb(240, 20, 20)\n        .old\n          font-size: 10px;\n          text-decoration: line-through;\n          color: #93999f;\n          font-weight: 700;\n          line-height: 24px;\n      .cartcontrol-wrapper\n        position: absolute\n        right: 12px\n        bottom: 12px\n      .buy\n        position: absolute\n        right:18px\n        bottom: 18px\n        z-index: 10\n        height: 24px\n        line-height: 24px\n        padding: 0 12px\n        box-sizing: border-box\n        border-radius: 12px\n        font-size 10px\n        color #fff\n        background rgb(0,160,220)\n        &.fade-enter-active, &.fade-leave-active\n          transition: opacity .5s\n        &.fade-enter, &.fade-leave-to\n          opacity: 0\n    .info\n       padding 18px\n       .title\n        line-height 14px\n        margin-bottom 6px\n        font-size 14px\n        color rgb(7,17,27)\n       .text\n         padding: 0 8px;\n         font-size: 12px;\n         font-weight: 200;\n         color: #4d555d;\n         line-height: 24px;\n\n    .rating\n      padding 18px\n      .title\n        line-height 14px\n        margin-left: 18px\n        font-size 14px\n        font-weight 700\n        color rgb(7,17,27)\n      .rating-wrapper\n        padding: 0 18px\n        .rating-item\n          position: relative\n          padding: 16px 0\n          border-1px(rgba(7, 17, 27, 0.1))\n          .user\n            position: absolute\n            right: 0\n            top:16px\n            line-height: 12px\n            font-size: 0\n            .name\n              display: inline-block\n              margin-right: 6px\n              vertical-align: top\n              font-size: 10px\n              color: rgb(147,153,159)\n            .avatar\n                border-radius: 50%\n\n          .time\n            margin-right: 6px\n            line-height: 12px\n            font-size: 12px\n            color: rgb(147,153,159)\n          .text\n            line-height: 16px\n            font-size: 12px\n            color: rgb(7,17,27)\n            .icon-thumb_up,.icon-thumb_down\n              margin-right: 4px\n              line-height: 16px\n              font-size: 12px\n            .icon-thumb_up\n              color: rgb(0,160,220)\n            .icon-thumb_down\n              color: rgb(147,153,159)\n        .no-rating\n          padding: 16px 0\n          font-size: 12px\n          color: rgb(147,153,159)\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/food/food.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"move\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],ref:\"food\",staticClass:\"food\"},[_c('div',{staticClass:\"food-content\"},[_c('div',{staticClass:\"image-header\"},[_c('img',{attrs:{\"src\":_vm.food.image,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"back\",on:{\"click\":_vm.hide}},[_c('i',{staticClass:\"icon-arrow_lift\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.food.name))]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('span',{staticClass:\"sell-count\"},[_vm._v(\"月售\"+_vm._s(_vm.food.sellCount)+\"份\")]),_vm._v(\" \"),_c('span',{staticClass:\"rating\"},[_vm._v(\"好評率\"+_vm._s(_vm.food.rating)+\"$\")])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"now\"},[_vm._v(\"￥\"+_vm._s(_vm.food.price))]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.oldPrice),expression:\"food.oldPrice\"}],staticClass:\"old\"},[_vm._v(\"￥\"+_vm._s(_vm.food.oldPrice))])]),_vm._v(\" \"),_c('div',{staticClass:\"cartcontrol-wrapper\"},[_c('cartcontrol',{attrs:{\"food\":_vm.food}})],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.food.count || _vm.food.count === 0),expression:\"!food.count || food.count === 0\"}],staticClass:\"buy\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFirst($event)}}},[_vm._v(\"加入購物車\")])])],1),_vm._v(\" \"),_c('split',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.info),expression:\"food.info\"}]}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.info),expression:\"food.info\"}],staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"商品信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.food.info))])]),_vm._v(\" \"),_c('split'),_vm._v(\" \"),_c('div',{staticClass:\"rating\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"商品评价\")]),_vm._v(\" \"),_c('ratingselect',{attrs:{\"select-type\":_vm.selectType,\"only-content\":_vm.onlyContent,\"desc\":_vm.desc,\"ratings\":_vm.food.ratings},on:{\"selecttype\":_vm.selecttype,\"content\":_vm.content}}),_vm._v(\" \"),_c('div',{staticClass:\"rating-wrapper\"},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.food.ratings && _vm.food.ratings.length),expression:\"food.ratings && food.ratings.length\"}]},_vm._l((_vm.food.ratings),function(rating){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.needShow(rating.rateType,rating.text)),expression:\"needShow(rating.rateType,rating.text)\"}],staticClass:\"rating-item border-1px\"},[_c('div',{staticClass:\"user\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(rating.username))]),_vm._v(\" \"),_c('img',{staticClass:\"avatar\",attrs:{\"width\":\"12\",\"height\":\"12\",\"src\":rating.avatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(rating.rateTime)))]),_vm._v(\" \"),_c('p',{staticClass:\"text\"},[_c('span',{class:{'icon-thumb_up':rating.rateType === 0,'icon-thumb_down':rating.rateType === 1}}),_vm._v(_vm._s(rating.text)+\"\\n              \")])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.food.ratings || !_vm.food.ratings.length),expression:\"!food.ratings || !food.ratings.length\"}],staticClass:\"no-rating\"},[_vm._v(\"暂无评价\")])])],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b6eaf3da\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/food/food.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b6eaf3da\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./food.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./food.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./food.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b6eaf3da\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./food.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/food/food.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"goods\">\n    <div class=\"menu-wrapper\" ref=\"menuWrapper\">\n      <ul class=\"content\">\n        <li v-for=\"(item,index) in goods\" class=\"menu-item\" :class=\"{'current': currentIndex === index}\" @click=\"selectMenu(index,$event)\">\n          <span class=\"text border-1px\">\n            <span v-show=\"item.type > 0\" class=\"icon\" :class=\"classMap[item.type]\"></span>{{item.name}}\n          </span>\n        </li>\n      </ul>\n    </div>\n    <div class=\"foods-wrapper\" ref=\"foodWrapper\">\n      <ul>\n        <li v-for=\"item in goods\" class=\"food-list food-list-hook\" ref=\"foodsList\">\n          <h1 class=\"title\">{{item.name}}</h1>\n          <ul>\n            <li v-for=\"food in item.foods\" class=\"food-item border-1px\">\n              <div class=\"icon\" @click=\"selectFood(food)\">\n                <img width=\"57\" height=\"57\" :src=\"food.icon\" alt=\"\">\n              </div>\n              <div class=\"content\">\n                <h2 class=\"name\">{{food.name}}</h2>\n                <p class=\"desc\">{{food.description}}</p>\n                <div class=\"extra\">\n                  <span class=\"cunt\">月售{{food.sellCount}}份</span><span>好評率{{food.rating}}%</span>\n                </div>\n                <div class=\"price\">\n                  <span class=\"now\">￥{{food.price}}</span><span v-show=\"food.oldPrice\"\n                                                                class=\"old\">￥{{food.oldPrice}}</span>\n                </div>\n                <div class=\"cartcontrol-wrapper\">\n                  <cartcontrol :food=\"food\"></cartcontrol>\n                </div>\n              </div>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n    <shopcart :select-foods=\"selectFoods\" :delivery-price=\"seller.deliveryPrice\" :min-price=\"seller.minPrice\"></shopcart>\n    <food :food=\"selectedFood\" ref=\"food\"></food>\n  </div>\n</template>\n\n<script>\n  import BScroll from 'better-scroll';\n  import shopcart from '@/components/shopcart/shopcart';\n  import cartcontrol from  '@/components/cartcontrol/cartcontrol';\n  import food from '@/components/food/food'\n  import data from '../../common/json/data.json'\n  // const ERR_OK = 0;\n  export default {\n    props: {\n      seller: {\n        type: Object\n      }\n    },\n    data() {\n      return {\n        goods: [],\n        listHeight: [],\n        scrollY: 0,\n        selectedFood:{}\n      };\n    },\n    computed: {\n\n      currentIndex () {\n        for (let i = 0; i < this.listHeight.length; i++) {\n          let height1 = this.listHeight[i]\n          let height2 = this.listHeight[i + 1]\n          if (!height2 || (this.scrollY >= height1 && this.scrollY < height2)) {\n            return i\n          }\n        }\n        return 0\n      },\n      selectFoods () {\n        let foods = []\n        this.goods.forEach((good) => {\n          good.foods.forEach((food) => {\n            if (food.count) {\n              foods.push(food)\n            }\n          })\n        })\n        return foods\n      }\n    },\n    created() {\n      this.classMap = ['decrease', 'discount', 'special', 'invoice', 'guarantee']\n      // const url ='http://ustbhuangyi.com/sell/api/goods'\n      // this.$http.get(url).then((response) => {\n      //   response = response.body;\n      //   if (response.errno === ERR_OK) {\n      //     this.goods = response.data;\n      //     this.$nextTick(() => {\n      //       this._initScroll();\n      //       this._calculateHeight();\n      //     });\n      //     console.log(this.goods);\n      //\n      //   }\n      // })\n      this.goods = data.goods\n      this.$nextTick(() => {\n        this._initScroll();\n        this._calculateHeight();\n      });\n    },\n    mounted () {\n\n    },\n    methods: {\n\n      _initScroll() {\n        this.menuScroll = new BScroll(this.$refs.menuWrapper, {\n          click: true\n        })\n        this.foodsScroll = new BScroll(this.$refs.foodWrapper, {\n          click: true,\n          probeType: 3\n        })\n        this.foodsScroll.on('scroll', (pos) => {\n          this.scrollY = Math.abs(Math.round(pos.y))\n\n        })\n      },\n      _calculateHeight () {\n        let foodList = this.$refs.foodsList;\n        let height = 0;\n        this.listHeight.push(height);\n        if (foodList) {\n          for (let i = 0; i < foodList.length; i++) {\n            let item = foodList[i];\n            height += item.clientHeight;\n            this.listHeight.push(height);\n          }\n          console.log(foodList.length);\n        }\n      },\n      selectMenu(index,event) {\n        if( !event._constructed ){\n          return;\n        }\n        let foodList = this.$refs.foodWrapper.getElementsByClassName('food-list-hook')\n        let ref = foodList[index];\n        this.foodsScroll.scrollToElement(ref, 300);\n\n      },\n      selectFood (food) {\n        this.selectedFood = food;\n        this.$refs.food.show()\n      }\n    },\n    components:{\n      shopcart,\n      cartcontrol,\n      food\n    }\n  }\n\n\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @import \"../../common/stylus/mixin.styl\"\n  .goods\n    display: flex\n    position: absolute\n    top: 174px\n    bottom: 46px\n    width: 100%\n    overflow: hidden\n    .menu-wrapper\n      flex: 0 0 80px\n      width: 80px\n      background #f3f5f7\n      .menu-item\n        display: table\n        height: 54px\n        width: 56px\n        line-height: 14px\n        padding: 0 12px\n        &.current\n          position: relative\n          z-index: 10\n          margin-top: -1px\n          background: #fff\n          font-weight: 700\n          .text\n            border-none()\n        .icon\n          display: inline-block\n          vertical-align: top\n          width 12px\n          height: 12px\n          margin-right: 2px\n          background-size: 12px 12px\n          background-repeat: no-repeat\n          &.decrease\n            bg-image('decrease_3')\n          &.discount\n            bg-image('discount_3')\n          &.guarantee\n            bg-image('guarantee_3')\n          &.invoice\n            bg-image('invoice_3')\n          &.special\n            bg-image('special_3')\n        .text\n          display: table-cell\n          width: 56px\n          vertical-align: middle\n          border-1px(rgba(7, 17, 27, 0.1))\n          font-size: 12px\n    .foods-wrapper\n      flex: 1\n      .title\n        padding-left: 14px\n        height: 26px\n        line-height: 26px\n        border-left 2px solid #d9dde1\n        font-size: 12px\n        color: rgb(147, 153, 159)\n        background: #f3f5f7\n      .food-item\n        display: flex\n        margin: 18px\n        padding-bottom: 18px\n        border-1px(rgba(7, 17, 27, 0.1))\n        &:last-chlid\n          border-none()\n          margin-bottom: 0\n        .icon\n          flex: 0 0 57px\n          margin-right: 10px\n        .content\n          flex: 1\n          .name\n            margin: 2px 0 8px 0\n            height: 14px\n            line-height: 14px\n            font-size: 14px\n            color: rgb(7, 17, 27)\n          .desc, .extra\n            line-height: 10px\n            font-size: 10px\n            color: rgb(147, 153, 159)\n          .desc\n            line-height: 12px\n            margin-bottom: 8px\n          .extra\n            .cunt\n              margin-right: 12px\n          .price\n            font-weight: 700\n            line-height: 24px\n            .now\n              margin-right: 8px\n              font-size: 14px\n              color: rgb(240, 20, 20)\n            .old\n              font-size: 10px;\n              text-decoration: line-through;\n              color: #93999f;\n              font-weight: 700;\n              line-height: 24px;\n          .cartcontrol-wrapper\n            position absolute\n            right:0\n            bottom: 12px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/goods/goods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods\"},[_c('div',{ref:\"menuWrapper\",staticClass:\"menu-wrapper\"},[_c('ul',{staticClass:\"content\"},_vm._l((_vm.goods),function(item,index){return _c('li',{staticClass:\"menu-item\",class:{'current': _vm.currentIndex === index},on:{\"click\":function($event){return _vm.selectMenu(index,$event)}}},[_c('span',{staticClass:\"text border-1px\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.type > 0),expression:\"item.type > 0\"}],staticClass:\"icon\",class:_vm.classMap[item.type]}),_vm._v(_vm._s(item.name)+\"\\n        \")])])}),0)]),_vm._v(\" \"),_c('div',{ref:\"foodWrapper\",staticClass:\"foods-wrapper\"},[_c('ul',_vm._l((_vm.goods),function(item){return _c('li',{ref:\"foodsList\",refInFor:true,staticClass:\"food-list food-list-hook\"},[_c('h1',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('ul',_vm._l((item.foods),function(food){return _c('li',{staticClass:\"food-item border-1px\"},[_c('div',{staticClass:\"icon\",on:{\"click\":function($event){return _vm.selectFood(food)}}},[_c('img',{attrs:{\"width\":\"57\",\"height\":\"57\",\"src\":food.icon,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('h2',{staticClass:\"name\"},[_vm._v(_vm._s(food.name))]),_vm._v(\" \"),_c('p',{staticClass:\"desc\"},[_vm._v(_vm._s(food.description))]),_vm._v(\" \"),_c('div',{staticClass:\"extra\"},[_c('span',{staticClass:\"cunt\"},[_vm._v(\"月售\"+_vm._s(food.sellCount)+\"份\")]),_c('span',[_vm._v(\"好評率\"+_vm._s(food.rating)+\"%\")])]),_vm._v(\" \"),_c('div',{staticClass:\"price\"},[_c('span',{staticClass:\"now\"},[_vm._v(\"￥\"+_vm._s(food.price))]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(food.oldPrice),expression:\"food.oldPrice\"}],staticClass:\"old\"},[_vm._v(\"￥\"+_vm._s(food.oldPrice))])]),_vm._v(\" \"),_c('div',{staticClass:\"cartcontrol-wrapper\"},[_c('cartcontrol',{attrs:{\"food\":food}})],1)])])}),0)])}),0)]),_vm._v(\" \"),_c('shopcart',{attrs:{\"select-foods\":_vm.selectFoods,\"delivery-price\":_vm.seller.deliveryPrice,\"min-price\":_vm.seller.minPrice}}),_vm._v(\" \"),_c('food',{ref:\"food\",attrs:{\"food\":_vm.selectedFood}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2525fb94\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/goods/goods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2525fb94\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./goods.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2525fb94\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./goods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/goods/goods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}